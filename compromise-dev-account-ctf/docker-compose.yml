version: '3'
networks:
  gitea:
    external: false
services:
  server:
    image: ctf-cda-gitea
    container_name: gitea
    restart: always
    networks:
      - gitea
    ports:
      - '5000:80'
      - '2222:22'
    depends_on:
      - db
  db:
    image: ctf-cda-db
    restart: always
    networks:
      - gitea
  organization:
    image: ctf-cda-organization
    container_name: organization
    networks:
      - gitea
    ports:
      - "3010:80"
  player:
    image: ctf-cda-player
    container_name: player
    hostname: ubuntu
    networks:
      - gitea
    tty: true
    ports:
      - "3020:3020"
